<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Detective - Technical Documentation</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg: #0f172a;
            --bg-card: #1e293b;
            --bg-code: #0d1117;
            --accent: #f59e0b;
            --accent-dim: #d97706;
            --text: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --success: #22c55e;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(135deg, var(--bg) 0%, #1a2744 100%);
            border-bottom: 1px solid var(--border);
            margin-bottom: 3rem;
        }

        .logo {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent) 0%, #fbbf24 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .badge {
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .badge strong {
            color: var(--accent);
        }

        /* Sections */
        section {
            margin-bottom: 3rem;
        }

        h2 {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-dim);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        h3 {
            font-size: 1.1rem;
            margin: 1.5rem 0 1rem;
            color: var(--text);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: transform 0.2s, border-color 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .feature-card h4 {
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            font-size: 0.9rem;
            margin: 0;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        th,
        td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-code);
            color: var(--accent);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.05em;
        }

        td {
            color: var(--text-secondary);
        }

        tr:hover td {
            background: rgba(245, 158, 11, 0.05);
        }

        /* Code */
        pre {
            background: var(--bg-code);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
            overflow-x: auto;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            line-height: 1.6;
            margin: 1rem 0;
        }

        code {
            font-family: 'Fira Code', monospace;
            background: var(--bg-code);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--accent);
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text);
        }

        .keyword {
            color: #ff79c6;
        }

        .function {
            color: #50fa7b;
        }

        .string {
            color: #f1fa8c;
        }

        .comment {
            color: #6272a4;
        }

        /* Architecture Diagram */
        .architecture {
            background: var(--bg-code);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
        }

        .arch-layer {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .arch-layer h4 {
            color: var(--accent);
            margin-bottom: 0.75rem;
        }

        .arch-components {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .arch-box {
            background: var(--bg-code);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .arrow {
            font-size: 1.5rem;
            color: var(--accent);
        }

        /* Resume Section */
        .resume-box {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.05) 100%);
            border: 2px solid var(--accent-dim);
            border-radius: 12px;
            padding: 2rem;
        }

        .resume-box h3 {
            color: var(--accent);
            margin-top: 0;
        }

        .resume-item {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            color: var(--text);
        }

        .resume-item::before {
            content: '‚ñ∏';
            color: var(--accent);
            flex-shrink: 0;
        }

        /* Level Progress */
        .level-progress {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .level-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            min-width: 120px;
        }

        .level-num {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
        }

        .level-name {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 0.5rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 3rem;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            margin-top: 3rem;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }

            .header {
                background: none;
            }

            h1 {
                color: #d97706;
                -webkit-text-fill-color: #d97706;
            }

            .card,
            .feature-card,
            .arch-layer {
                border-color: #ccc;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="logo">üîç</div>
        <h1>SQL Detective</h1>
        <p class="subtitle">Technical Documentation & Portfolio Showcase</p>
        <div class="badges">
            <span class="badge"><strong>Flask</strong> Backend</span>
            <span class="badge"><strong>Three.js</strong> 3D Engine</span>
            <span class="badge"><strong>SQLite</strong> Database</span>
            <span class="badge"><strong>7 Levels</strong> SQL Concepts</span>
        </div>
    </header>

    <div class="container">
        <!-- Executive Summary -->
        <section>
            <h2>üìã Executive Summary</h2>
            <div class="card">
                <p><strong>SQL Detective</strong> is a full-stack web application that teaches SQL through crime
                    investigation gameplay. Players solve a bank heist case by writing SQL queries against realistic
                    crime databases in an immersive 3D noir detective environment.</p>
                <table>
                    <tr>
                        <th>Attribute</th>
                        <th>Details</th>
                    </tr>
                    <tr>
                        <td>Project Type</td>
                        <td>Full-Stack Web Application</td>
                    </tr>
                    <tr>
                        <td>Tech Stack</td>
                        <td>Flask (Python), Three.js, SQLite</td>
                    </tr>
                    <tr>
                        <td>SQL Coverage</td>
                        <td>SELECT ‚Üí Window Functions (7 Levels)</td>
                    </tr>
                    <tr>
                        <td>Target Users</td>
                        <td>SQL Learners (Beginner to Advanced)</td>
                    </tr>
                </table>
            </div>
        </section>

        <!-- Key Features -->
        <section>
            <h2>‚ú® Key Features</h2>
            <div class="card-grid">
                <div class="feature-card">
                    <div class="feature-icon">üéÆ</div>
                    <h4>Immersive 3D Environment</h4>
                    <p>Noir detective office with interactive desk, evidence board, and computer terminal</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h4>Real SQL Execution</h4>
                    <p>Queries run against actual SQLite database with realistic crime data</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <h4>Secure by Design</h4>
                    <p>Read-only access, keyword blocking, SQL injection prevention</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìà</div>
                    <h4>Progressive Learning</h4>
                    <p>7 levels from basic SELECT to advanced Window Functions</p>
                </div>
            </div>
        </section>

        <!-- Architecture -->
        <section>
            <h2>üèóÔ∏è Architecture</h2>
            <div class="architecture">
                <div class="arch-layer">
                    <h4>Frontend (Browser)</h4>
                    <div class="arch-components">
                        <span class="arch-box">Three.js 3D Scene</span>
                        <span class="arch-box">SQL Editor</span>
                        <span class="arch-box">UI Panels</span>
                    </div>
                </div>
                <div class="arrow">‚Üì HTTP/REST ‚Üì</div>
                <div class="arch-layer">
                    <h4>Backend (Flask)</h4>
                    <div class="arch-components">
                        <span class="arch-box">Query Validator</span>
                        <span class="arch-box">Query Executor</span>
                        <span class="arch-box">Level Checker</span>
                    </div>
                </div>
                <div class="arrow">‚Üì SQLite Read-Only ‚Üì</div>
                <div class="arch-layer">
                    <h4>Database (SQLite)</h4>
                    <div class="arch-components">
                        <span class="arch-box">suspects</span>
                        <span class="arch-box">phone_records</span>
                        <span class="arch-box">cctv_logs</span>
                        <span class="arch-box">transactions</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- SQL Concepts -->
        <section>
            <h2>üìö SQL Concepts Covered</h2>
            <div class="level-progress">
                <div class="level-badge">
                    <span class="level-num">1</span>
                    <span class="level-name">SELECT<br>WHERE</span>
                </div>
                <div class="level-badge">
                    <span class="level-num">2</span>
                    <span class="level-name">BETWEEN<br>ORDER BY</span>
                </div>
                <div class="level-badge">
                    <span class="level-num">3</span>
                    <span class="level-name">INNER<br>JOIN</span>
                </div>
                <div class="level-badge">
                    <span class="level-num">4</span>
                    <span class="level-name">GROUP BY<br>HAVING</span>
                </div>
                <div class="level-badge">
                    <span class="level-num">5</span>
                    <span class="level-name">Subqueries<br>AVG</span>
                </div>
                <div class="level-badge">
                    <span class="level-num">6</span>
                    <span class="level-name">CTEs<br>WITH</span>
                </div>
                <div class="level-badge">
                    <span class="level-num">7</span>
                    <span class="level-name">Window<br>Functions</span>
                </div>
            </div>
        </section>

        <!-- Database Design -->
        <section>
            <h2>üóÑÔ∏è Database Design</h2>
            <div class="card">
                <table>
                    <tr>
                        <th>Table</th>
                        <th>Records</th>
                        <th>Purpose</th>
                    </tr>
                    <tr>
                        <td><code>suspects</code></td>
                        <td>10</td>
                        <td>Person of interest profiles</td>
                    </tr>
                    <tr>
                        <td><code>locations</code></td>
                        <td>10</td>
                        <td>City locations (bank, diner, etc.)</td>
                    </tr>
                    <tr>
                        <td><code>phone_records</code></td>
                        <td>25+</td>
                        <td>Call/SMS logs with timestamps</td>
                    </tr>
                    <tr>
                        <td><code>bank_transactions</code></td>
                        <td>18+</td>
                        <td>Financial activity records</td>
                    </tr>
                    <tr>
                        <td><code>cctv_logs</code></td>
                        <td>18+</td>
                        <td>Surveillance sightings</td>
                    </tr>
                    <tr>
                        <td><code>crime_scenes</code></td>
                        <td>3</td>
                        <td>Crime incident details</td>
                    </tr>
                </table>
            </div>
        </section>

        <!-- Security -->
        <section>
            <h2>üõ°Ô∏è Security Implementation</h2>
            <div class="card">
                <h3>Threat Mitigations</h3>
                <table>
                    <tr>
                        <th>Threat</th>
                        <th>Mitigation</th>
                    </tr>
                    <tr>
                        <td>SQL Injection</td>
                        <td>Keyword blocking + read-only database mode</td>
                    </tr>
                    <tr>
                        <td>Data Modification</td>
                        <td>SELECT-only queries enforced at validation layer</td>
                    </tr>
                    <tr>
                        <td>DoS via expensive queries</td>
                        <td>5-second timeout limit on all executions</td>
                    </tr>
                    <tr>
                        <td>Schema discovery attacks</td>
                        <td>Limited table access per level (progressive unlock)</td>
                    </tr>
                </table>

                <h3>Blocked Keywords</h3>
                <pre><code>DROP, DELETE, UPDATE, INSERT, ALTER, CREATE, 
TRUNCATE, GRANT, REVOKE, EXEC, EXECUTE, PRAGMA</code></pre>
            </div>
        </section>

        <!-- Sample Code -->
        <section>
            <h2>üíª Sample Query Solutions</h2>
            <div class="card">
                <h3>Level 1: Basic Filtering</h3>
                <pre><code><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> suspects 
<span class="keyword">WHERE</span> age > 30 <span class="keyword">AND</span> criminal_record = 1;</code></pre>

                <h3>Level 3: Multi-Table JOIN</h3>
                <pre><code><span class="keyword">SELECT</span> s.name, s.occupation, l.name <span class="keyword">AS</span> location, c.timestamp
<span class="keyword">FROM</span> suspects s
<span class="keyword">INNER JOIN</span> cctv_logs c <span class="keyword">ON</span> s.id = c.person_id
<span class="keyword">INNER JOIN</span> locations l <span class="keyword">ON</span> c.location_id = l.id
<span class="keyword">WHERE</span> l.name = <span class="string">'Downtown Bank'</span>;</code></pre>

                <h3>Level 7: Window Functions</h3>
                <pre><code><span class="keyword">SELECT</span> 
    account_id, amount, timestamp,
    <span class="function">RANK</span>() <span class="keyword">OVER</span> (<span class="keyword">PARTITION BY</span> account_id <span class="keyword">ORDER BY</span> amount <span class="keyword">DESC</span>) <span class="keyword">AS</span> amount_rank,
    <span class="function">LAG</span>(amount) <span class="keyword">OVER</span> (<span class="keyword">PARTITION BY</span> account_id <span class="keyword">ORDER BY</span> timestamp) <span class="keyword">AS</span> prev_amount
<span class="keyword">FROM</span> bank_transactions
<span class="keyword">WHERE</span> account_id <span class="keyword">IN</span> (<span class="keyword">SELECT</span> id <span class="keyword">FROM</span> suspects <span class="keyword">WHERE</span> criminal_record = 1);</code></pre>
            </div>
        </section>

        <!-- Resume Bullets -->
        <section>
            <h2>üìù Resume Highlights</h2>
            <div class="resume-box">
                <h3>Copy for Your Resume:</h3>
                <div class="resume-item">Designed and implemented interactive SQL learning game covering 7 progressive
                    concepts from SELECT to Window Functions, processing user queries in real-time</div>
                <div class="resume-item">Built secure query execution engine with SQL injection prevention, keyword
                    blocking, and read-only database enforcement</div>
                <div class="resume-item">Created immersive 3D noir detective environment using Three.js with interactive
                    objects, dynamic lighting, and particle effects</div>
                <div class="resume-item">Developed Flask REST API for query validation, answer verification with fuzzy
                    matching, and session-based progress tracking</div>
                <div class="resume-item">Architected normalized database schema with 7 tables modeling realistic crime
                    investigation data relationships</div>
            </div>
        </section>

        <!-- Running -->
        <section>
            <h2>üöÄ How to Run</h2>
            <div class="card">
                <pre><code><span class="comment"># Install dependencies</span>
pip install flask flask-cors

<span class="comment"># Navigate to backend</span>
cd backend

<span class="comment"># Run the application</span>
python app.py

<span class="comment"># Open in browser</span>
<span class="string">http://localhost:5000</span></code></pre>
            </div>
        </section>
    </div>

    <footer>
        <p><strong>SQL Detective</strong> | Technical Documentation v1.0</p>
        <p>January 2026 | Created by Ananya B</p>
        <p style="margin-top: 1rem; font-size: 0.85rem;">
            üìÑ <a href="TECHNICAL_DOCUMENTATION.md">View Markdown Version</a> |
            üìÅ <a href="README.md">Project README</a>
        </p>
    </footer>
</body>

</html>